summary: Ocean for AWS
delete:
  summary: "Delete Launch Spec"
  description: >
    Delete a specified launch specification in an Ocean cluster.
  operationId: "OceanAWSLaunchSpecDelete"
  tags:
    - "Ocean AWS"
  parameters:
    - $ref: "../../../../commons/parameters/accountId.yaml"
    - $ref: "../../commons/parameters/oceanLaunchSpecId.yaml"
    - in: query
      name: "deleteNodes"
      example: true
      default: false
      description: >
        When set to "true", all instances belonging to the deleted launch specification will be drained, detached, and terminated.
      schema:
        type: boolean
      required: false
  responses:
    200:
      content:
        application/json:
          schema:
            type: object
            properties:
              request:
                type: object
                properties:
                  id:
                    type: string
                    example: a608777a-a1c5-4f34-b30b-3f7355e3926b
                  url:
                    type: string
                    example: /ocean/aws/k8s/cluster/o-12we32df?accountId=act-7461123d
                  method:
                    type: string
                    example: DELETE
                  timestamp:
                    type: string
                    example: 2019-06-18T07:59:45.892Z
              response:
                type: object
                properties:
                  status:
                    type: object
                    properties:
                      code:
                        type: integer
                        example: 200
                      message:
                        type: string
                        example: OK
                  kind:
                    type: string
                    example: spotinst:ocean:aws:k8s
                  items:
                    type: array
                  count:
                    type: integer
                    example: 0
    400:
      description: "Bad Request"

put:
  summary: "Update Launch Spec"
  description: >
    Update launch specification.
  operationId: "OceanAWSLaunchSpecUpdate"
  tags:
    - "Ocean AWS"
  parameters:
  - $ref: "../../../../commons/parameters/accountId.yaml"
  - $ref: "../../commons/parameters/oceanLaunchSpecId.yaml"
  - $ref: "../../commons/parameters/autoApplyTags.yaml"
  requestBody:
    required: false
    content:
      application/json:
        schema:
            $ref: "../schemas/oceanClusterLaunchSpec.yaml"
  responses:
    200:
      $ref: "../responses/oceanLaunchSpec.yaml"
    400:
      description: "Bad Request"

get:
  summary: "Get Launch Spec"
  operationId: "OceanAWSLaunchSpecGet"
  tags:
    - "Ocean AWS"
  parameters:
    - $ref: "../../../../commons/parameters/accountId.yaml"
    - $ref: "../../commons/parameters/oceanLaunchSpecId.yaml"
  responses:
    200:
      $ref: "../responses/oceanLaunchSpec.yaml"
    400:
      description: "Bad Request"
