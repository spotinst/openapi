put:
  summary: "Organization & Accounts - Update User Permissions"
  description: >
    Change the users’ permissions for an account (only accounts under the creator’s own organization are allowed). Creator’s organization ID is taken from the personal token attached to the API call.
  operationId: "OrganizaionAndAccountUpdateAUserPermission"
  tags:
    - "Organization & Accounts"
  parameters:
    - in: "path"
      name: "accountId"
      example: act-123abc
      description: >
        The Spot accountId of the account to be updated
      required: false
  requestBody:
    required: false
    content:
      application/json:
        schema:
          oneOf:
            - $ref: "../schemas/updateUserPermissions-example1.yaml"
            - $ref: "../schemas/updateUserPermissions-example2.yaml"
            - $ref: "../schemas/updateUserPermissions-example3.yaml"
  responses:
    200:
      $ref: "../responses/updateUserPermissions.yaml"
    400:
      description: "Bad Request"

delete:
  summary: "Organization & Accounts - Detach User"
  description: >
    Detach a user from an account (only accounts under the creator’s own organization are allowed). Creator’s organization ID is taken from the personal token attached to the API call.
  operationId: "OrganizaionAndAccountDetachUser"
  tags:
    - "Organization & Accounts"
  parameters:
    - in: "path"
      name: "accountId"
      example: act-123abc
      description: >
        The Spot accountId of the account to be updated
      required: true
  requestBody:
    required: false
    content:
      application/json:
        schema:
          allOf:
            - $ref: "../schemas/detachUser.yaml"
  responses:
    200:
      $ref: "../responses/detachUser.yaml"
    400:
      description: "Bad Request"

post:
  summary: "Organization & Accounts - Set Existing User Permissions"
  description: >
    Add a user to the account and set its permissions on the account. Creator’s organization ID is taken from the personal token attached to the API call.
  operationId: "OrganizaionAndAccountSetExistingUserPermissions"
  tags:
    - "Organization & Accounts"
  parameters:
    - in: "path"
      name: "accountId"
      example: act-123abc
      description: >
        The Spot accountId of the account to be updated
      required: true
  requestBody:
    required: false
    content:
      application/json:
        schema:
          oneOf:
            - $ref: "../schemas/setUserPermissionsForEditorRole.yaml"
            - $ref: "../schemas/setUserPermissionForViewerRole.yaml"
  responses:
    200:
      $ref: "../responses/setExistingUserPermissions.yaml"
    400:
      description: "Bad Request"