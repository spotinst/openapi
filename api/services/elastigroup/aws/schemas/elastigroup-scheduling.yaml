type: object
title: Elastigroup Scheduling
properties:
  tasks:
    type: array
    items:
      type: object
      title: Task Definition
      properties:
        isEnabled:
          type: boolean
          default: true
          example: true
          description: >
            Describes whether the task is enabled. When true the task should run when false it should not run. 
        frequency:
          type: string
          enum: [hourly, daily, weekly]
          description: >
            The recurrence frequency to run this task. Only one of `frequency` or `cronExpression` should be used at a time
        startTime:
          type: string
          example: 2018-05-23T10:55:09Z
          description: >
            DATETIME in ISO-8601 format. Sets a start time for scheduled actions. If `frequency` or `cronExpression` are not used - the task will run only once at the start time and will then be deleted from the group configuration
        cronExpression:       
          type: string
          example: 0 1 * * *
          description: >
            A valid cron expression. 
            For example : " * * * * * ". 
            The cron is running in UTC time zone and is in Unix cron format Cron Expression Validator Script. 
            Only one of ‘frequency’ or ‘cronExpression’ should be used at a time.
        taskType:
          type: string
          example: scale
          enum: [backup_ami, scale, scaleUp, roll, statefulUpdateCapacity, statefulRecycle]
          description: >
            The task type to run.
        scaleTargetCapacity:
          type: integer
          minimum: 0
          default: null
          description: >  
            The target capacity of the group. Should be used when choosing `taskType` of `scale`.
        scaleMinCapacity:
          type: integer
          minimum: 0
          default: null
          description: >  
            The min capacity of the group. Should be used when choosing `taskType` of `scale`.
        scaleMaxCapacity:
          type: integer
          minimum: 0
          default: null
          description: >  
            The max capacity of the group. Required when `taskType` is `scale`.
        batchSizePercentage: 
          type: integer
          minimum: 1
          default: null
          description: >  
            The percentage size of each batch in the scheduled deployment roll.
            Required when the `taskType` is `roll`.
        gracePeriod:
          type: integer
          minimum: 1
          default: null
          description: >  
        adjustment: 
          type: integer
          minimum: 1
          default: null
          description: >  
        adjustmentPercentage:
          type: integer
          minimum: 1
          default: null
          description: >  
        targetCapacity:
          type: integer
          minimum: 0
          default: null
          description: >  
            Set a new target capacity for the Elastigroup.
            Required when `taskType` is `statefulUpdateCapacity`.
        minCapacity:
          type: integer
          minimum: 0
          default: null
          description: >  
            Set a new minimum capacity for the Elastigroup.
            Required when `taskType` is `statefulUpdateCapacity`.
        maxCapacity:
          type: integer
          minimum: 0
          default: null
          description: >  
            Set a new maximum capacity for the Elastigroup.
            Required when `taskType` is `statefulUpdateCapacity`.
